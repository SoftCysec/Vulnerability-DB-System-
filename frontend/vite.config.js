import { defineConfig } from 'vite'
import vue from '@vitejs/plugin-vue'
import path from 'path'

export default defineConfig({
    plugins: [vue()],
    css: {
        postcss: {
            config: path.resolve(__dirname, './postcss.config.cjs')
        }
    },
    resolve: {
        alias: {
            '@': path.resolve(__dirname, 'src')
        }
    },
    server: {
        proxy: {
        '/api': {
          target: 'https://services.nvd.nist.gov/rest/json/cves/2.0?keywordSearch=',
          changeOrigin: true,
          secure: false,
          rewrite: (path) => path.replace(/^\/api/, '')
        },
        cors:false
        },
      },
      define: {
        'process.env': {}
      },
    assetsInclude: ['**/*.svg', '**/*.png', '**/*.jpg', '**/*.gif']
})